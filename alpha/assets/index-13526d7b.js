import{r as a}from"./index-8ee6c85d.js";import{g as G,m as _,e as B,C as T,c as h}from"./index-7b090294.js";import{o as H}from"./omit-c5f18c7c.js";import{i as O,c as M}from"./reactNode-c432c2b0.js";import{K as q}from"./index-5400b74c.js";function A(t,i,e){var n=e||{},s=n.noTrailing,f=s===void 0?!1:s,b=n.noLeading,g=b===void 0?!1:b,w=n.debounceMode,u=w===void 0?void 0:w,r,d=!1,$=0;function N(){r&&clearTimeout(r)}function o(m){var p=m||{},l=p.upcomingOnly,S=l===void 0?!1:l;N(),d=!S}function y(){for(var m=arguments.length,p=new Array(m),l=0;l<m;l++)p[l]=arguments[l];var S=this,z=Date.now()-$;if(d)return;function v(){$=Date.now(),i.apply(S,p)}function c(){r=void 0}!g&&u&&!r&&v(),N(),u===void 0&&z>t?g?($=Date.now(),f||(r=setTimeout(u?c:v,t))):v():f!==!0&&(r=setTimeout(u?c:v,u===void 0?t-z:t))}return y.cancel=o,y}function R(t,i,e){var n=e||{},s=n.atBegin,f=s===void 0?!1:s;return A(t,i,{debounceMode:f!==!1})}const V=new q("antSpinMove",{to:{opacity:1}}),F=new q("antRotate",{to:{transform:"rotate(405deg)"}}),K=t=>{const{componentCls:i,calc:e}=t;return{[`${i}`]:Object.assign(Object.assign({},B(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},[`${i}-text`]:{fontSize:t.fontSize,paddingTop:e(e(t.dotSize).sub(t.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:t.colorBgMask,zIndex:t.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${t.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[`${i}-dot ${i}-dot-item`]:{backgroundColor:t.colorWhite},[`${i}-text`]:{color:t.colorTextLightSolid}},"&-nested-loading":{position:"relative",[`> div > ${i}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${i}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:e(t.dotSize).mul(-1).div(2).equal()},[`${i}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${t.colorBgContainer}`},[`&${i}-show-text ${i}-dot`]:{marginTop:e(t.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${i}-dot`]:{margin:e(t.dotSizeSM).mul(-1).div(2).equal()},[`${i}-text`]:{paddingTop:e(e(t.dotSizeSM).sub(t.fontSize)).div(2).add(2).equal()},[`&${i}-show-text ${i}-dot`]:{marginTop:e(t.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${i}-dot`]:{margin:e(t.dotSizeLG).mul(-1).div(2).equal()},[`${i}-text`]:{paddingTop:e(e(t.dotSizeLG).sub(t.fontSize)).div(2).add(2).equal()},[`&${i}-show-text ${i}-dot`]:{marginTop:e(t.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${i}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${i}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${i}-dot`]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:e(t.dotSize).sub(e(t.marginXXS).div(2)).div(2).equal(),height:e(t.dotSize).sub(e(t.marginXXS).div(2)).div(2).equal(),backgroundColor:t.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:V,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:F,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${i}-dot`]:{fontSize:t.dotSizeSM,i:{width:e(e(t.dotSizeSM).sub(e(t.marginXXS).div(2))).div(2).equal(),height:e(e(t.dotSizeSM).sub(e(t.marginXXS).div(2))).div(2).equal()}},[`&-lg ${i}-dot`]:{fontSize:t.dotSizeLG,i:{width:e(e(t.dotSizeLG).sub(t.marginXXS)).div(2).equal(),height:e(e(t.dotSizeLG).sub(t.marginXXS)).div(2).equal()}},[`&${i}-show-text ${i}-text`]:{display:"block"}})}},W=t=>{const{controlHeightLG:i,controlHeight:e}=t;return{contentHeight:400,dotSize:i/2,dotSizeSM:i*.35,dotSizeLG:e}},J=G("Spin",t=>{const i=_(t,{spinDotDefault:t.colorTextDescription});return[K(i)]},W);var Q=globalThis&&globalThis.__rest||function(t,i){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&i.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)i.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(e[n[s]]=t[n[s]]);return e};let C=null;function U(t,i){const{indicator:e}=i,n=`${t}-dot`;return e===null?null:O(e)?M(e,{className:h(e.props.className,n)}):O(C)?M(C,{className:h(C.props.className,n)}):a.createElement("span",{className:h(n,`${t}-dot-spin`)},a.createElement("i",{className:`${t}-dot-item`,key:1}),a.createElement("i",{className:`${t}-dot-item`,key:2}),a.createElement("i",{className:`${t}-dot-item`,key:3}),a.createElement("i",{className:`${t}-dot-item`,key:4}))}function Y(t,i){return!!t&&!!i&&!isNaN(Number(i))}const L=t=>{const{prefixCls:i,spinning:e=!0,delay:n=0,className:s,rootClassName:f,size:b="default",tip:g,wrapperClassName:w,style:u,children:r,fullscreen:d}=t,$=Q(t,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen"]),{getPrefixCls:N}=a.useContext(T),o=N("spin",i),[y,m,p]=J(o),[l,S]=a.useState(()=>e&&!Y(e,n));a.useEffect(()=>{if(e){const x=R(n,()=>{S(!0)});return x(),()=>{var E;(E=x==null?void 0:x.cancel)===null||E===void 0||E.call(x)}}S(!1)},[n,e]);const z=a.useMemo(()=>typeof r<"u"&&!d,[r,d]),{direction:v,spin:c}=a.useContext(T),X=h(o,c==null?void 0:c.className,{[`${o}-sm`]:b==="small",[`${o}-lg`]:b==="large",[`${o}-spinning`]:l,[`${o}-show-text`]:!!g,[`${o}-fullscreen`]:d,[`${o}-fullscreen-show`]:d&&l,[`${o}-rtl`]:v==="rtl"},s,f,m,p),j=h(`${o}-container`,{[`${o}-blur`]:l}),D=H($,["indicator"]),P=Object.assign(Object.assign({},c==null?void 0:c.style),u),I=a.createElement("div",Object.assign({},D,{style:P,className:X,"aria-live":"polite","aria-busy":l}),U(o,t),g&&(z||d)?a.createElement("div",{className:`${o}-text`},g):null);return y(z?a.createElement("div",Object.assign({},D,{className:h(`${o}-nested-loading`,w,m,p)}),l&&a.createElement("div",{key:"loading"},I),a.createElement("div",{className:j,key:"container"},r)):I)};L.setDefaultIndicator=t=>{C=t};const nt=L;export{nt as S};
