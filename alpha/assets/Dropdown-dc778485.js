import{j as s}from"./jsx-runtime-f6d73c06.js";import{r as a}from"./index-8ee6c85d.js";import{g as J,e as K,a as P,C as Q,c as N,l as Z,n as ee,o as te,p as ne,q as oe}from"./index-7b090294.js";import{u as re}from"./LocaleContext-e44580cc.js";import"./FormigaConfig-4836e33b.js";import{S as ae}from"./index-13526d7b.js";import{R,C as I}from"./row-0ae67c61.js";import{C as se}from"./CheckOutlined-1950666f.js";import{I as le}from"./index-4107e8f6.js";import{a as V,b as ie}from"./assertThisInitialized-f89cd6ac.js";import{C as ce}from"./CheckCircleFilled-d8efb997.js";import{C as de}from"./CloseCircleFilled-4563a35c.js";import{C as ue}from"./CloseOutlined-5a53a2b2.js";import{E as pe}from"./ExclamationCircleFilled-4441be00.js";import{I as me}from"./InfoCircleFilled-1b1be79f.js";import{p as fe}from"./pickAttrs-217b3c15.js";import{r as ge}from"./reactNode-c432c2b0.js";import{D as he}from"./EnterOutlined-8a939df2.js";const E=(e,t,n,o,r)=>({background:e,border:`${P(o.lineWidth)} ${o.lineType} ${t}`,[`${r}-icon`]:{color:n}}),ye=e=>{const{componentCls:t,motionDurationSlow:n,marginXS:o,marginSM:r,fontSize:c,fontSizeLG:d,lineHeight:i,borderRadiusLG:h,motionEaseInOutCirc:u,withDescriptionIconSize:g,colorText:C,colorTextHeading:y,withDescriptionPadding:p,defaultPadding:x}=e;return{[t]:Object.assign(Object.assign({},K(e)),{position:"relative",display:"flex",alignItems:"center",padding:x,wordWrap:"break-word",borderRadius:h,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:c,lineHeight:i},"&-message":{color:y},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${u}, opacity ${n} ${u},
        padding-top ${n} ${u}, padding-bottom ${n} ${u},
        margin-bottom ${n} ${u}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:p,[`${t}-icon`]:{marginInlineEnd:r,fontSize:g,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:o,color:y,fontSize:d},[`${t}-description`]:{display:"block",color:C}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Ce=e=>{const{componentCls:t,colorSuccess:n,colorSuccessBorder:o,colorSuccessBg:r,colorWarning:c,colorWarningBorder:d,colorWarningBg:i,colorError:h,colorErrorBorder:u,colorErrorBg:g,colorInfo:C,colorInfoBorder:y,colorInfoBg:p}=e;return{[t]:{"&-success":E(r,o,n,e,t),"&-info":E(p,y,C,e,t),"&-warning":E(i,d,c,e,t),"&-error":Object.assign(Object.assign({},E(g,u,h,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},xe=e=>{const{componentCls:t,iconCls:n,motionDurationMid:o,marginXS:r,fontSizeIcon:c,colorIcon:d,colorIconHover:i}=e;return{[t]:{"&-action":{marginInlineStart:r},[`${t}-close-icon`]:{marginInlineStart:r,padding:0,overflow:"hidden",fontSize:c,lineHeight:P(c),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:d,transition:`color ${o}`,"&:hover":{color:i}}},"&-close-text":{color:d,transition:`color ${o}`,"&:hover":{color:i}}}}},be=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),we=J("Alert",e=>[ye(e),Ce(e),xe(e)],be);var Se=globalThis&&globalThis.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const ve={success:ce,info:me,error:de,warning:pe},$e=e=>{const{icon:t,prefixCls:n,type:o}=e,r=ve[o]||null;return t?ge(t,a.createElement("span",{className:`${n}-icon`},t),()=>({className:N(`${n}-icon`,{[t.props.className]:t.props.className})})):a.createElement(r,{className:`${n}-icon`})},je=e=>{const{isClosable:t,prefixCls:n,closeIcon:o,handleClose:r}=e,c=o===!0||o===void 0?a.createElement(ue,null):o;return t?a.createElement("button",{type:"button",onClick:r,className:`${n}-close-icon`,tabIndex:0},c):null},Ie=e=>{const{description:t,prefixCls:n,message:o,banner:r,className:c,rootClassName:d,style:i,onMouseEnter:h,onMouseLeave:u,onClick:g,afterClose:C,showIcon:y,closable:p,closeText:x,closeIcon:b,action:S}=e,l=Se(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[m,w]=a.useState(!1),z=a.useRef(null),{getPrefixCls:L,direction:T,alert:v}=a.useContext(Q),f=L("alert",n),[q,F,W]=we(f),A=$=>{var j;w(!0),(j=e.onClose)===null||j===void 0||j.call(e,$)},O=a.useMemo(()=>e.type!==void 0?e.type:r?"warning":"info",[e.type,r]),G=a.useMemo(()=>x?!0:typeof p=="boolean"?p:b!==!1&&b!==null&&b!==void 0,[x,b,p]),H=r&&y===void 0?!0:y,X=N(f,`${f}-${O}`,{[`${f}-with-description`]:!!t,[`${f}-no-icon`]:!H,[`${f}-banner`]:!!r,[`${f}-rtl`]:T==="rtl"},v==null?void 0:v.className,c,d,W,F),U=fe(l,{aria:!0,data:!0});return q(a.createElement(Z,{visible:!m,motionName:`${f}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:$=>({maxHeight:$.offsetHeight}),onLeaveEnd:C},$=>{let{className:j,style:Y}=$;return a.createElement("div",Object.assign({ref:z,"data-show":!m,className:N(X,j),style:Object.assign(Object.assign(Object.assign({},v==null?void 0:v.style),i),Y),onMouseEnter:h,onMouseLeave:u,onClick:g,role:"alert"},U),H?a.createElement($e,{description:t,icon:e.icon,prefixCls:f,type:O}):null,a.createElement("div",{className:`${f}-content`},o?a.createElement("div",{className:`${f}-message`},o):null,t?a.createElement("div",{className:`${f}-description`},t):null),S?a.createElement("div",{className:`${f}-action`},S):null,a.createElement(je,{isClosable:G,prefixCls:f,closeIcon:x||b,handleClose:A}))}))},_e=Ie;function Ee(e,t,n){return t=V(t),oe(e,ie()?Reflect.construct(t,n||[],V(e).constructor):t.apply(e,n))}let Ne=function(e){ee(t,e);function t(){var n;return te(this,t),n=Ee(this,t,arguments),n.state={error:void 0,info:{componentStack:""}},n}return ne(t,[{key:"componentDidCatch",value:function(o,r){this.setState({error:o,info:r})}},{key:"render",value:function(){const{message:o,description:r,children:c}=this.props,{error:d,info:i}=this.state,h=i&&i.componentStack?i.componentStack:null,u=typeof o>"u"?(d||"").toString():o,g=typeof r>"u"?h:r;return d?a.createElement(_e,{type:"error",message:u,description:a.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},g)}):c}}]),t}(a.Component);const De=Ne,{Search:Me}=le,Oe=300,D=({onRetrieveData:e,searchable:t,onItemClick:n,maxHeight:o})=>{const r=a.useRef(null),[c,d]=a.useState(),[i,h]=a.useState([]),[u,g]=a.useState(!0),{t:C}=re();a.useEffect(()=>{y()},[]);const y=a.useCallback(async()=>{g(!0);const l=await(e==null?void 0:e());h(l),g(!1),setTimeout(()=>{var m;return(m=r.current)==null?void 0:m.select()})},[e]),p=_(i),x=t===!0||t==="auto"&&p.length>3,b=a.useCallback(l=>{const m=l==null?void 0:l.trim();if(m&&m.length>0){d(m);return}d(void 0)},[]),S=a.useMemo(()=>c?i.map(l=>({...l,items:l.sticky?l.items:l.items.filter(m=>m.name&&m.name.toLowerCase().includes(c.toLowerCase()))})).filter(l=>l.items.length>0):i,[i,c]);return u?s.jsx(k,{children:s.jsx("div",{style:{padding:15,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(ae,{})})}):(console.log({filteredData:S}),s.jsxs(k,{children:[x&&s.jsx("div",{style:{padding:5},children:s.jsx(Me,{ref:r,onChange:l=>b(l.target.value),onSearch:b,allowClear:!0})}),s.jsxs("div",{style:{width:x?Oe:"auto",overflowY:"auto",maxHeight:o},children:[S.map((l,m)=>s.jsx(B,{data:l,children:l.items.map(w=>w.type==="divider"?s.jsx(Ve,{},w.id):s.jsx(He,{item:w,onClick:()=>n==null?void 0:n(w)},w.id))},`group-${l.label}-${m}`)),_(S.filter(l=>!l.sticky)).length===0&&s.jsx(B,{data:{label:C("noMatches"),items:[]}},"no-data-group")]})]}))},k=({children:e})=>s.jsx("div",{className:"ant-dropdown-menu ant-dropdown-menu-root ant-dropdown-menu-vertical ant-dropdown-menu-light",style:{overflow:"hidden"},children:e}),He=({item:e,onClick:t})=>s.jsx("li",{className:N({"ant-dropdown-menu-item":!0,"ant-dropdown-menu-item-only-child":!e.disabled,"ant-dropdown-menu-item-disabled":e.disabled}),role:"menuitem",onClick:t,children:s.jsx("span",{className:"ant-dropdown-menu-title-content",children:s.jsxs(R,{wrap:!1,children:[e.icon&&s.jsx(I,{flex:"none",style:{paddingRight:20},children:e.icon}),s.jsx(I,{flex:"auto",style:{paddingRight:20},children:e.name}),e.selected&&s.jsx(I,{flex:"none",children:s.jsx(se,{})})]})})}),B=({data:e,children:t})=>{const{icon:n,label:o}=e;return o?s.jsxs("li",{role:"presentation",className:"ant-dropdown-menu-item-group",children:[s.jsx("div",{role:"presentation",className:"ant-dropdown-menu-item-group-title",title:o,children:s.jsxs(R,{wrap:!1,children:[n&&s.jsx(I,{flex:"none",style:{paddingRight:20},children:n}),s.jsx(I,{flex:"auto",children:o})]})}),s.jsx("ul",{role:"group",className:"ant-dropdown-menu-item-group-list",children:t})]}):s.jsx(a.Fragment,{children:t})},Ve=()=>s.jsx("li",{role:"separator",className:"ant-dropdown-menu-item-divider"}),_=e=>e.reduce((t,n)=>[...t,...n.items],[]).filter(t=>t.type!=="divider");try{D.displayName="DropdownMenu",D.__docgenInfo={description:"",displayName:"DropdownMenu",props:{maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:'boolean | "auto"'}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!1,type:{name:"((item: DropdownMenuItem) => void)"}},onRetrieveData:{defaultValue:null,description:"",name:"onRetrieveData",required:!0,type:{name:"() => Promise<DropdownMenuGroup[]>"}}}}}catch{}try{_.displayName="flattenDropdownItems",_.__docgenInfo={description:"",displayName:"flattenDropdownItems",props:{}}}catch{}const M=a.memo(({onRetrieveData:e,onItemClick:t,disabled:n=!1,searchable:o="auto",children:r,trigger:c=["click"],placement:d,maxHeight:i})=>{const[h,u]=a.useState(!1),[g,C]=a.useState(!1),y=a.useCallback(async()=>{const p=await(e==null?void 0:e());return C(_(p).length===0),p},[e]);return s.jsx(De,{children:s.jsx(he,{dropdownRender:()=>s.jsx(D,{maxHeight:i,searchable:o,onRetrieveData:y,onItemClick:p=>{u(!1),t==null||t(p)}}),disabled:g||n,trigger:c,placement:d,onOpenChange:p=>{u(p)},open:h,destroyPopupOnHide:!0,children:r})})});M.displayName="Dropdown";try{M.displayName="Dropdown",M.__docgenInfo={description:"",displayName:"Dropdown",props:{maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:'boolean | "auto"'}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!1,type:{name:"((item: DropdownMenuItem) => void)"}},onRetrieveData:{defaultValue:null,description:"",name:"onRetrieveData",required:!0,type:{name:"() => Promise<DropdownMenuGroup[]>"}},trigger:{defaultValue:null,description:"",name:"trigger",required:!1,type:{name:'("click" | "hover")[]'}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"topLeft"'},{value:'"topCenter"'},{value:'"topRight"'},{value:'"bottomLeft"'},{value:'"bottomCenter"'},{value:'"bottomRight"'},{value:'"top"'},{value:'"bottom"'}]}}}}}catch{}export{M as D};
