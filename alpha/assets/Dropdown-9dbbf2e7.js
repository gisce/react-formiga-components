import{j as s}from"./jsx-runtime-f6d73c06.js";import{r}from"./index-8ee6c85d.js";import{g as U,e as Y,a as B,C as J,c as j,l as K,n as Q,o as Z,p as ee,q as ne}from"./index-7b090294.js";import{S as te}from"./index-13526d7b.js";import{R as oe,C as E}from"./row-0ae67c61.js";import{C as re}from"./CheckOutlined-1950666f.js";import{I as ae}from"./index-4107e8f6.js";import{a as H,b as se}from"./assertThisInitialized-f89cd6ac.js";import{C as ie}from"./CheckCircleFilled-d8efb997.js";import{C as le}from"./CloseCircleFilled-4563a35c.js";import{C as ce}from"./CloseOutlined-5a53a2b2.js";import{E as de}from"./ExclamationCircleFilled-4441be00.js";import{I as ue}from"./InfoCircleFilled-1b1be79f.js";import{p as pe}from"./pickAttrs-217b3c15.js";import{r as me}from"./reactNode-c432c2b0.js";import{D as fe}from"./EnterOutlined-8a939df2.js";const I=(e,n,t,o,a)=>({background:e,border:`${B(o.lineWidth)} ${o.lineType} ${n}`,[`${a}-icon`]:{color:t}}),ge=e=>{const{componentCls:n,motionDurationSlow:t,marginXS:o,marginSM:a,fontSize:c,fontSizeLG:u,lineHeight:l,borderRadiusLG:g,motionEaseInOutCirc:p,withDescriptionIconSize:f,colorText:C,colorTextHeading:h,withDescriptionPadding:d,defaultPadding:b}=e;return{[n]:Object.assign(Object.assign({},Y(e)),{position:"relative",display:"flex",alignItems:"center",padding:b,wordWrap:"break-word",borderRadius:g,[`&${n}-rtl`]:{direction:"rtl"},[`${n}-content`]:{flex:1,minWidth:0},[`${n}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:c,lineHeight:l},"&-message":{color:h},[`&${n}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${t} ${p}, opacity ${t} ${p},
        padding-top ${t} ${p}, padding-bottom ${t} ${p},
        margin-bottom ${t} ${p}`},[`&${n}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${n}-with-description`]:{alignItems:"flex-start",padding:d,[`${n}-icon`]:{marginInlineEnd:a,fontSize:f,lineHeight:0},[`${n}-message`]:{display:"block",marginBottom:o,color:h,fontSize:u},[`${n}-description`]:{display:"block",color:C}},[`${n}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},he=e=>{const{componentCls:n,colorSuccess:t,colorSuccessBorder:o,colorSuccessBg:a,colorWarning:c,colorWarningBorder:u,colorWarningBg:l,colorError:g,colorErrorBorder:p,colorErrorBg:f,colorInfo:C,colorInfoBorder:h,colorInfoBg:d}=e;return{[n]:{"&-success":I(a,o,t,e,n),"&-info":I(d,h,C,e,n),"&-warning":I(l,u,c,e,n),"&-error":Object.assign(Object.assign({},I(f,p,g,e,n)),{[`${n}-description > pre`]:{margin:0,padding:0}})}}},ye=e=>{const{componentCls:n,iconCls:t,motionDurationMid:o,marginXS:a,fontSizeIcon:c,colorIcon:u,colorIconHover:l}=e;return{[n]:{"&-action":{marginInlineStart:a},[`${n}-close-icon`]:{marginInlineStart:a,padding:0,overflow:"hidden",fontSize:c,lineHeight:B(c),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${t}-close`]:{color:u,transition:`color ${o}`,"&:hover":{color:l}}},"&-close-text":{color:u,transition:`color ${o}`,"&:hover":{color:l}}}}},Ce=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),be=U("Alert",e=>[ge(e),he(e),ye(e)],Ce);var xe=globalThis&&globalThis.__rest||function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(t[o[a]]=e[o[a]]);return t};const we={success:ie,info:ue,error:le,warning:de},Se=e=>{const{icon:n,prefixCls:t,type:o}=e,a=we[o]||null;return n?me(n,r.createElement("span",{className:`${t}-icon`},n),()=>({className:j(`${t}-icon`,{[n.props.className]:n.props.className})})):r.createElement(a,{className:`${t}-icon`})},ve=e=>{const{isClosable:n,prefixCls:t,closeIcon:o,handleClose:a}=e,c=o===!0||o===void 0?r.createElement(ce,null):o;return n?r.createElement("button",{type:"button",onClick:a,className:`${t}-close-icon`,tabIndex:0},c):null},$e=e=>{const{description:n,prefixCls:t,message:o,banner:a,className:c,rootClassName:u,style:l,onMouseEnter:g,onMouseLeave:p,onClick:f,afterClose:C,showIcon:h,closable:d,closeText:b,closeIcon:w,action:i}=e,y=xe(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[x,P]=r.useState(!1),z=r.useRef(null),{getPrefixCls:R,direction:k,alert:S}=r.useContext(J),m=R("alert",t),[L,T,q]=be(m),F=v=>{var $;P(!0),($=e.onClose)===null||$===void 0||$.call(e,v)},O=r.useMemo(()=>e.type!==void 0?e.type:a?"warning":"info",[e.type,a]),W=r.useMemo(()=>b?!0:typeof d=="boolean"?d:w!==!1&&w!==null&&w!==void 0,[b,w,d]),M=a&&h===void 0?!0:h,A=j(m,`${m}-${O}`,{[`${m}-with-description`]:!!n,[`${m}-no-icon`]:!M,[`${m}-banner`]:!!a,[`${m}-rtl`]:k==="rtl"},S==null?void 0:S.className,c,u,q,T),G=pe(y,{aria:!0,data:!0});return L(r.createElement(K,{visible:!x,motionName:`${m}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:v=>({maxHeight:v.offsetHeight}),onLeaveEnd:C},v=>{let{className:$,style:X}=v;return r.createElement("div",Object.assign({ref:z,"data-show":!x,className:j(A,$),style:Object.assign(Object.assign(Object.assign({},S==null?void 0:S.style),l),X),onMouseEnter:g,onMouseLeave:p,onClick:f,role:"alert"},G),M?r.createElement(Se,{description:n,icon:e.icon,prefixCls:m,type:O}):null,r.createElement("div",{className:`${m}-content`},o?r.createElement("div",{className:`${m}-message`},o):null,n?r.createElement("div",{className:`${m}-description`},n):null),i?r.createElement("div",{className:`${m}-action`},i):null,r.createElement(ve,{isClosable:W,prefixCls:m,closeIcon:b||w,handleClose:F}))}))},Ie=$e;function je(e,n,t){return n=H(n),ne(e,se()?Reflect.construct(n,t||[],H(e).constructor):n.apply(e,t))}let _e=function(e){Q(n,e);function n(){var t;return Z(this,n),t=je(this,n,arguments),t.state={error:void 0,info:{componentStack:""}},t}return ee(n,[{key:"componentDidCatch",value:function(o,a){this.setState({error:o,info:a})}},{key:"render",value:function(){const{message:o,description:a,children:c}=this.props,{error:u,info:l}=this.state,g=l&&l.componentStack?l.componentStack:null,p=typeof o>"u"?(u||"").toString():o,f=typeof a>"u"?g:a;return u?r.createElement(Ie,{type:"error",message:p,description:r.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},f)}):c}}]),n}(r.Component);const Ee=_e,{Search:Ne}=ae,De=300,N=({onRetrieveData:e,searchable:n,onItemClick:t,maxHeight:o})=>{const a=r.useRef(null),[c,u]=r.useState(),[l,g]=r.useState([]),[p,f]=r.useState(!0);r.useEffect(()=>{C()},[]),r.useEffect(()=>{setTimeout(()=>{var i;return(i=a.current)==null?void 0:i.select()})},[]);const C=r.useCallback(async()=>{f(!0);const i=await(e==null?void 0:e());g(i),f(!1)},[e]),h=_(l),d=n===!0||n==="auto"&&h.length>3,b=r.useCallback(i=>{const y=i==null?void 0:i.trim();if(y&&y.length>0){u(y);return}u(void 0)},[]),w=r.useMemo(()=>c?l.map(i=>({...i,items:i.items.filter(y=>y.name&&y.name.toLowerCase().includes(c.toLowerCase()))})).filter(i=>i.items.length>0):l,[l,c]);return p?s.jsx(V,{children:s.jsx("div",{style:{padding:15,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(te,{})})}):s.jsxs(V,{children:[d&&s.jsx("div",{style:{padding:5},children:s.jsx(Ne,{ref:a,onChange:i=>b(i.target.value),onSearch:b,allowClear:!0})}),s.jsx("div",{style:{width:d?De:"auto",overflowY:"auto",maxHeight:o},children:w.map((i,y)=>s.jsx(Me,{data:i,children:i.items.map(x=>x.type==="divider"?s.jsx(He,{},x.id):s.jsx(Oe,{item:x,onClick:()=>t==null?void 0:t(x)},x.id))},`group-${i.label}-${y}`))})]})},V=({children:e})=>s.jsx("div",{className:"ant-dropdown-menu ant-dropdown-menu-root ant-dropdown-menu-vertical ant-dropdown-menu-light",style:{overflow:"hidden"},children:e}),Oe=({item:e,onClick:n})=>s.jsx("li",{className:j({"ant-dropdown-menu-item":!0,"ant-dropdown-menu-item-only-child":!e.disabled,"ant-dropdown-menu-item-disabled":e.disabled}),role:"menuitem",onClick:n,children:s.jsx("span",{className:"ant-dropdown-menu-title-content",children:s.jsxs(oe,{wrap:!1,children:[e.icon&&s.jsx(E,{flex:"none",style:{paddingRight:20},children:e.icon}),s.jsx(E,{flex:"auto",style:{paddingRight:20},children:e.name}),e.selected&&s.jsx(E,{flex:"none",children:s.jsx(re,{})})]})})}),Me=({data:e,children:n})=>{const{icon:t,label:o}=e;return o?s.jsxs("li",{role:"presentation",className:"ant-dropdown-menu-item-group",children:[s.jsx("div",{role:"presentation",className:"ant-dropdown-menu-item-group-title",title:o,children:t?s.jsxs(r.Fragment,{children:[t," ",s.jsxs("span",{children:[" ",o]})]}):o}),s.jsx("ul",{role:"group",className:"ant-dropdown-menu-item-group-list",children:n})]}):s.jsx(r.Fragment,{children:n})},He=()=>s.jsx("li",{role:"separator",className:"ant-dropdown-menu-item-divider"}),_=e=>e.reduce((n,t)=>[...n,...t.items],[]).filter(n=>n.type!=="divider");try{N.displayName="DropdownMenu",N.__docgenInfo={description:"",displayName:"DropdownMenu",props:{maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:'boolean | "auto"'}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!1,type:{name:"((item: DropdownMenuItem) => void)"}},onRetrieveData:{defaultValue:null,description:"",name:"onRetrieveData",required:!0,type:{name:"() => Promise<DropdownMenuGroup[]>"}}}}}catch{}try{_.displayName="flattenDropdownItems",_.__docgenInfo={description:"",displayName:"flattenDropdownItems",props:{}}}catch{}const D=r.memo(({onRetrieveData:e,onItemClick:n,disabled:t=!1,searchable:o="auto",children:a,trigger:c=["click"],placement:u,maxHeight:l})=>{const[g,p]=r.useState(!1),[f,C]=r.useState(!1),h=r.useCallback(async()=>{const d=await(e==null?void 0:e());return C(_(d).length===0),d},[e]);return s.jsx(Ee,{children:s.jsx(fe,{dropdownRender:()=>s.jsx(N,{maxHeight:l,searchable:o,onRetrieveData:h,onItemClick:d=>{p(!1),n==null||n(d)}}),disabled:f||t,trigger:c,placement:u,onOpenChange:d=>{p(d)},open:g,destroyPopupOnHide:!0,children:a})})});D.displayName="Dropdown";try{D.displayName="Dropdown",D.__docgenInfo={description:"",displayName:"Dropdown",props:{maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:'boolean | "auto"'}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!1,type:{name:"((item: DropdownMenuItem) => void)"}},onRetrieveData:{defaultValue:null,description:"",name:"onRetrieveData",required:!0,type:{name:"() => Promise<DropdownMenuGroup[]>"}},trigger:{defaultValue:null,description:"",name:"trigger",required:!1,type:{name:'("click" | "hover")[]'}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"topLeft"'},{value:'"topCenter"'},{value:'"topRight"'},{value:'"bottomLeft"'},{value:'"bottomCenter"'},{value:'"bottomRight"'},{value:'"top"'},{value:'"bottom"'}]}}}}}catch{}export{D};
