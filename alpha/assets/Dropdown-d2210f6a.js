import{j as s}from"./jsx-runtime-f6d73c06.js";import{r as a}from"./index-8ee6c85d.js";import{g as J,e as K,a as B,C as Q,c as E,l as Z,n as ee,o as ne,p as te,q as oe}from"./index-7b090294.js";import{S as re}from"./index-13526d7b.js";import{R as P,C as j}from"./row-0ae67c61.js";import{C as ae}from"./CheckOutlined-1950666f.js";import{I as se}from"./index-4107e8f6.js";import{a as H,b as le}from"./assertThisInitialized-f89cd6ac.js";import{C as ie}from"./CheckCircleFilled-d8efb997.js";import{C as ce}from"./CloseCircleFilled-4563a35c.js";import{C as de}from"./CloseOutlined-5a53a2b2.js";import{E as ue}from"./ExclamationCircleFilled-4441be00.js";import{I as pe}from"./InfoCircleFilled-1b1be79f.js";import{p as me}from"./pickAttrs-217b3c15.js";import{r as fe}from"./reactNode-c432c2b0.js";import{D as ge}from"./EnterOutlined-8a939df2.js";const _=(e,n,t,o,r)=>({background:e,border:`${B(o.lineWidth)} ${o.lineType} ${n}`,[`${r}-icon`]:{color:t}}),he=e=>{const{componentCls:n,motionDurationSlow:t,marginXS:o,marginSM:r,fontSize:c,fontSizeLG:u,lineHeight:i,borderRadiusLG:g,motionEaseInOutCirc:p,withDescriptionIconSize:f,colorText:C,colorTextHeading:h,withDescriptionPadding:d,defaultPadding:b}=e;return{[n]:Object.assign(Object.assign({},K(e)),{position:"relative",display:"flex",alignItems:"center",padding:b,wordWrap:"break-word",borderRadius:g,[`&${n}-rtl`]:{direction:"rtl"},[`${n}-content`]:{flex:1,minWidth:0},[`${n}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:c,lineHeight:i},"&-message":{color:h},[`&${n}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${t} ${p}, opacity ${t} ${p},
        padding-top ${t} ${p}, padding-bottom ${t} ${p},
        margin-bottom ${t} ${p}`},[`&${n}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${n}-with-description`]:{alignItems:"flex-start",padding:d,[`${n}-icon`]:{marginInlineEnd:r,fontSize:f,lineHeight:0},[`${n}-message`]:{display:"block",marginBottom:o,color:h,fontSize:u},[`${n}-description`]:{display:"block",color:C}},[`${n}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},ye=e=>{const{componentCls:n,colorSuccess:t,colorSuccessBorder:o,colorSuccessBg:r,colorWarning:c,colorWarningBorder:u,colorWarningBg:i,colorError:g,colorErrorBorder:p,colorErrorBg:f,colorInfo:C,colorInfoBorder:h,colorInfoBg:d}=e;return{[n]:{"&-success":_(r,o,t,e,n),"&-info":_(d,h,C,e,n),"&-warning":_(i,u,c,e,n),"&-error":Object.assign(Object.assign({},_(f,p,g,e,n)),{[`${n}-description > pre`]:{margin:0,padding:0}})}}},Ce=e=>{const{componentCls:n,iconCls:t,motionDurationMid:o,marginXS:r,fontSizeIcon:c,colorIcon:u,colorIconHover:i}=e;return{[n]:{"&-action":{marginInlineStart:r},[`${n}-close-icon`]:{marginInlineStart:r,padding:0,overflow:"hidden",fontSize:c,lineHeight:B(c),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${t}-close`]:{color:u,transition:`color ${o}`,"&:hover":{color:i}}},"&-close-text":{color:u,transition:`color ${o}`,"&:hover":{color:i}}}}},xe=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),be=J("Alert",e=>[he(e),ye(e),Ce(e)],xe);var we=globalThis&&globalThis.__rest||function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]]);return t};const Se={success:ie,info:pe,error:ce,warning:ue},ve=e=>{const{icon:n,prefixCls:t,type:o}=e,r=Se[o]||null;return n?fe(n,a.createElement("span",{className:`${t}-icon`},n),()=>({className:E(`${t}-icon`,{[n.props.className]:n.props.className})})):a.createElement(r,{className:`${t}-icon`})},$e=e=>{const{isClosable:n,prefixCls:t,closeIcon:o,handleClose:r}=e,c=o===!0||o===void 0?a.createElement(de,null):o;return n?a.createElement("button",{type:"button",onClick:r,className:`${t}-close-icon`,tabIndex:0},c):null},je=e=>{const{description:n,prefixCls:t,message:o,banner:r,className:c,rootClassName:u,style:i,onMouseEnter:g,onMouseLeave:p,onClick:f,afterClose:C,showIcon:h,closable:d,closeText:b,closeIcon:x,action:l}=e,y=we(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[w,R]=a.useState(!1),z=a.useRef(null),{getPrefixCls:L,direction:T,alert:S}=a.useContext(Q),m=L("alert",t),[q,F,W]=be(m),A=v=>{var $;R(!0),($=e.onClose)===null||$===void 0||$.call(e,v)},O=a.useMemo(()=>e.type!==void 0?e.type:r?"warning":"info",[e.type,r]),G=a.useMemo(()=>b?!0:typeof d=="boolean"?d:x!==!1&&x!==null&&x!==void 0,[b,x,d]),M=r&&h===void 0?!0:h,X=E(m,`${m}-${O}`,{[`${m}-with-description`]:!!n,[`${m}-no-icon`]:!M,[`${m}-banner`]:!!r,[`${m}-rtl`]:T==="rtl"},S==null?void 0:S.className,c,u,W,F),U=me(y,{aria:!0,data:!0});return q(a.createElement(Z,{visible:!w,motionName:`${m}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:v=>({maxHeight:v.offsetHeight}),onLeaveEnd:C},v=>{let{className:$,style:Y}=v;return a.createElement("div",Object.assign({ref:z,"data-show":!w,className:E(X,$),style:Object.assign(Object.assign(Object.assign({},S==null?void 0:S.style),i),Y),onMouseEnter:g,onMouseLeave:p,onClick:f,role:"alert"},U),M?a.createElement(ve,{description:n,icon:e.icon,prefixCls:m,type:O}):null,a.createElement("div",{className:`${m}-content`},o?a.createElement("div",{className:`${m}-message`},o):null,n?a.createElement("div",{className:`${m}-description`},n):null),l?a.createElement("div",{className:`${m}-action`},l):null,a.createElement($e,{isClosable:G,prefixCls:m,closeIcon:b||x,handleClose:A}))}))},Ie=je;function _e(e,n,t){return n=H(n),oe(e,le()?Reflect.construct(n,t||[],H(e).constructor):n.apply(e,t))}let Ee=function(e){ee(n,e);function n(){var t;return ne(this,n),t=_e(this,n,arguments),t.state={error:void 0,info:{componentStack:""}},t}return te(n,[{key:"componentDidCatch",value:function(o,r){this.setState({error:o,info:r})}},{key:"render",value:function(){const{message:o,description:r,children:c}=this.props,{error:u,info:i}=this.state,g=i&&i.componentStack?i.componentStack:null,p=typeof o>"u"?(u||"").toString():o,f=typeof r>"u"?g:r;return u?a.createElement(Ie,{type:"error",message:p,description:a.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},f)}):c}}]),n}(a.Component);const Ne=Ee,{Search:De}=se,Oe=300,N=({onRetrieveData:e,searchable:n,onItemClick:t,maxHeight:o})=>{const r=a.useRef(null),[c,u]=a.useState(),[i,g]=a.useState([]),[p,f]=a.useState(!0);a.useEffect(()=>{C()},[]),a.useEffect(()=>{setTimeout(()=>{var l;return(l=r.current)==null?void 0:l.select()})},[]);const C=a.useCallback(async()=>{f(!0);const l=await(e==null?void 0:e());g(l),f(!1)},[e]),h=I(i),d=n===!0||n==="auto"&&h.length>3,b=a.useCallback(l=>{const y=l==null?void 0:l.trim();if(y&&y.length>0){u(y);return}u(void 0)},[]),x=a.useMemo(()=>c?i.map(l=>({...l,items:l.sticky?l.items:l.items.filter(y=>y.name&&y.name.toLowerCase().includes(c.toLowerCase()))})).filter(l=>l.items.length>0):i,[i,c]);return p?s.jsx(V,{children:s.jsx("div",{style:{padding:15,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(re,{})})}):(console.log({filteredData:x}),s.jsxs(V,{children:[d&&s.jsx("div",{style:{padding:5},children:s.jsx(De,{ref:r,onChange:l=>b(l.target.value),onSearch:b,allowClear:!0})}),s.jsxs("div",{style:{width:d?Oe:"auto",overflowY:"auto",maxHeight:o},children:[x.map((l,y)=>s.jsx(k,{data:l,children:l.items.map(w=>w.type==="divider"?s.jsx(He,{},w.id):s.jsx(Me,{item:w,onClick:()=>t==null?void 0:t(w)},w.id))},`group-${l.label}-${y}`)),I(x.filter(l=>!l.sticky)).length===0&&s.jsx(k,{data:{label:"No matches found",items:[]}},"no-data-group")]})]}))},V=({children:e})=>s.jsx("div",{className:"ant-dropdown-menu ant-dropdown-menu-root ant-dropdown-menu-vertical ant-dropdown-menu-light",style:{overflow:"hidden"},children:e}),Me=({item:e,onClick:n})=>s.jsx("li",{className:E({"ant-dropdown-menu-item":!0,"ant-dropdown-menu-item-only-child":!e.disabled,"ant-dropdown-menu-item-disabled":e.disabled}),role:"menuitem",onClick:n,children:s.jsx("span",{className:"ant-dropdown-menu-title-content",children:s.jsxs(P,{wrap:!1,children:[e.icon&&s.jsx(j,{flex:"none",style:{paddingRight:20},children:e.icon}),s.jsx(j,{flex:"auto",style:{paddingRight:20},children:e.name}),e.selected&&s.jsx(j,{flex:"none",children:s.jsx(ae,{})})]})})}),k=({data:e,children:n})=>{const{icon:t,label:o}=e;return o?s.jsxs("li",{role:"presentation",className:"ant-dropdown-menu-item-group",children:[s.jsx("div",{role:"presentation",className:"ant-dropdown-menu-item-group-title",title:o,children:s.jsxs(P,{wrap:!1,children:[t&&s.jsx(j,{flex:"none",style:{paddingRight:20},children:t}),s.jsx(j,{flex:"auto",children:o})]})}),s.jsx("ul",{role:"group",className:"ant-dropdown-menu-item-group-list",children:n})]}):s.jsx(a.Fragment,{children:n})},He=()=>s.jsx("li",{role:"separator",className:"ant-dropdown-menu-item-divider"}),I=e=>e.reduce((n,t)=>[...n,...t.items],[]).filter(n=>n.type!=="divider");try{N.displayName="DropdownMenu",N.__docgenInfo={description:"",displayName:"DropdownMenu",props:{maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:'boolean | "auto"'}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!1,type:{name:"((item: DropdownMenuItem) => void)"}},onRetrieveData:{defaultValue:null,description:"",name:"onRetrieveData",required:!0,type:{name:"() => Promise<DropdownMenuGroup[]>"}}}}}catch{}try{I.displayName="flattenDropdownItems",I.__docgenInfo={description:"",displayName:"flattenDropdownItems",props:{}}}catch{}const D=a.memo(({onRetrieveData:e,onItemClick:n,disabled:t=!1,searchable:o="auto",children:r,trigger:c=["click"],placement:u,maxHeight:i})=>{const[g,p]=a.useState(!1),[f,C]=a.useState(!1),h=a.useCallback(async()=>{const d=await(e==null?void 0:e());return C(I(d).length===0),d},[e]);return s.jsx(Ne,{children:s.jsx(ge,{dropdownRender:()=>s.jsx(N,{maxHeight:i,searchable:o,onRetrieveData:h,onItemClick:d=>{p(!1),n==null||n(d)}}),disabled:f||t,trigger:c,placement:u,onOpenChange:d=>{p(d)},open:g,destroyPopupOnHide:!0,children:r})})});D.displayName="Dropdown";try{D.displayName="Dropdown",D.__docgenInfo={description:"",displayName:"Dropdown",props:{maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"number"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:'boolean | "auto"'}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!1,type:{name:"((item: DropdownMenuItem) => void)"}},onRetrieveData:{defaultValue:null,description:"",name:"onRetrieveData",required:!0,type:{name:"() => Promise<DropdownMenuGroup[]>"}},trigger:{defaultValue:null,description:"",name:"trigger",required:!1,type:{name:'("click" | "hover")[]'}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"topLeft"'},{value:'"topCenter"'},{value:'"topRight"'},{value:'"bottomLeft"'},{value:'"bottomCenter"'},{value:'"bottomRight"'},{value:'"top"'},{value:'"bottom"'}]}}}}}catch{}export{D};
