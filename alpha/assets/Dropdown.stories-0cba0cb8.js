import{j as n}from"./jsx-runtime-f6d73c06.js";import{r as a}from"./index-8ee6c85d.js";import{I}from"./index-33abafc5.js";import{D as j}from"./index-420ab320.js";const{Search:N}=I,w=({data:e,searchable:r,onItemClick:l})=>{const p=a.useRef(null),[i,u]=a.useState();a.useEffect(()=>{setTimeout(()=>{var t;return(t=p.current)==null?void 0:t.select()})},[]);const f=g(e),c=r===!0||r==="auto"&&f.length>3,d=a.useCallback(t=>{const o=t==null?void 0:t.trim();if(o&&o.length>0){u(o);return}u(void 0)},[]),x=a.useMemo(()=>i?e.map(t=>({...t,items:t.items.filter(o=>o.name.toLowerCase().includes(i.toLowerCase()))})).filter(t=>t.items.length>0):e,[e,i]);return n.jsxs(v,{children:[c&&n.jsx("div",{style:{padding:5},children:n.jsx(N,{ref:p,onChange:t=>d(t.target.value),onSearch:d,allowClear:!0})}),n.jsx("div",{style:{width:300,maxHeight:300,overflowY:"auto"},children:x.map((t,o)=>n.jsx(C,{title:t.label,children:t.items.map(h=>n.jsx(V,{item:h,onClick:()=>l(h)},h.id))},`${t.label}-${o}`))})]})},v=({children:e})=>n.jsx("div",{className:"ant-dropdown-menu ant-dropdown-menu-root ant-dropdown-menu-vertical ant-dropdown-menu-light",style:{minHeight:300,overflow:"hidden"},children:e}),V=({item:e,onClick:r})=>n.jsx("li",{className:"ant-dropdown-menu-item ant-dropdown-menu-item-only-child",role:"menuitem",onClick:r,children:n.jsx("span",{className:"ant-dropdown-menu-title-content",children:e.name})}),C=({title:e,children:r})=>n.jsxs("li",{role:"presentation",className:"ant-dropdown-menu-item-group",children:[n.jsx("div",{role:"presentation",className:"ant-dropdown-menu-item-group-title",title:e,children:e}),n.jsx("ul",{role:"group",className:"ant-dropdown-menu-item-group-list",children:r})]}),g=e=>e.reduce((r,l)=>[...r,...l.items],[]);try{w.displayName="DropdownMenu",w.__docgenInfo={description:"",displayName:"DropdownMenu",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"DropdownMenuGroup[]"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!0,type:{name:'boolean | "auto"'}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!0,type:{name:"(event: any) => void"}}}}}catch{}try{g.displayName="flattenDropdownItems",g.__docgenInfo={description:"",displayName:"flattenDropdownItems",props:{}}}catch{}const m=a.memo(({data:e=[],onItemClick:r,disabled:l=!1,searchable:p="auto",children:i,trigger:u=["click"]})=>{const[f,c]=a.useState(!1);return n.jsx(j,{dropdownRender:()=>n.jsx(w,{searchable:p,data:e,onItemClick:d=>{c(!1),r==null||r(d)}}),disabled:l||e.length===0,trigger:u,onOpenChange:d=>{c(d)},open:f,destroyPopupOnHide:!0,children:i})});m.displayName="Dropdown";try{m.displayName="Dropdown",m.__docgenInfo={description:"",displayName:"Dropdown",props:{trigger:{defaultValue:null,description:"",name:"trigger",required:!1,type:{name:'("click" | "hover")[]'}},onItemClick:{defaultValue:null,description:"",name:"onItemClick",required:!1,type:{name:"((item: DropdownMenuItem) => void)"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"DropdownMenuGroup[]"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},searchable:{defaultValue:null,description:"",name:"searchable",required:!1,type:{name:'boolean | "auto"'}}}}}catch{}const S={title:"Components/Dropdown",component:m},D=[{label:"Group 1",items:[{id:1,name:"Item 1"},{id:2,name:"Item 2"}]},{label:"Group 2",items:[{id:3,name:"Item 3"},{id:4,name:"Item 4"}]},{label:"Group 3",items:[{id:5,name:"Item 5"},{id:6,name:"Item 6"}]},{label:"Group 4",items:[{id:7,name:"Item 7"},{id:8,name:"Item 8"}]},{label:"Group 5",items:[{id:9,name:"Item 9"},{id:10,name:"Item 10"}]}],G=e=>n.jsx(m,{...e}),s=G.bind({});s.exampleData=D;s.args={data:D,children:n.jsx("button",{style:{backgroundColor:"#cf2",padding:20,borderRadius:10},children:"Hover me"}),trigger:["hover"]};var _,y,b;s.parameters={...s.parameters,docs:{...(_=s.parameters)==null?void 0:_.docs,source:{originalSource:"args => <Dropdown {...args} />",...(b=(y=s.parameters)==null?void 0:y.docs)==null?void 0:b.source}}};const q=["Default"],E=Object.freeze(Object.defineProperty({__proto__:null,Default:s,__namedExportsOrder:q,default:S},Symbol.toStringTag,{value:"Module"}));export{m as D,s as a,E as b};
