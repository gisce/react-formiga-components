import{r as n}from"./index-76fb7be0.js";import{c as G}from"./index-86654eeb.js";import{w as re,u as Z,D as ae}from"./index-356ca88b.js";import{F as q,o as ie}from"./context-f193351c.js";import{u as le,i as ce,a as ue}from"./index-e1a7f8dc.js";import{C as U,g as fe,m as pe,H as me,G as te}from"./genStyleUtils-28a6e765.js";import{I as W,u as de,T as ve}from"./TextArea-80c99f7a.js";import{p as ge,S as be}from"./SearchOutlined-7d2c8869.js";import{g as Ce}from"./useVariants-a27d5c24.js";import{u as ne}from"./useSize-06920fd3.js";import{_ as oe}from"./assertThisInitialized-11245cea.js";import{E as ye,a as Oe}from"./EyeInvisibleOutlined-4021859d.js";import{A as se}from"./AntdIcon-2900fcfe.js";import{c as ee}from"./reactNode-9d24d027.js";import{B as he}from"./button-b6c4a6d6.js";import{a as xe}from"./Compact-a3364df5.js";var Pe=function(s,r){return n.createElement(se,oe({},s,{ref:r,icon:ye}))},Ee=n.forwardRef(Pe);const Ie=Ee,Se=e=>{const{getPrefixCls:s,direction:r}=n.useContext(U),{prefixCls:t,className:o}=e,d=s("input-group",t),g=s("input"),[u,C,y]=le(g),O=G(d,y,{[`${d}-lg`]:e.size==="large",[`${d}-sm`]:e.size==="small",[`${d}-compact`]:e.compact,[`${d}-rtl`]:r==="rtl"},C,o),b=n.useContext(q),h=n.useMemo(()=>Object.assign(Object.assign({},b),{isFormItemInput:!1}),[b]);return u(n.createElement("span",{className:O,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},n.createElement(q.Provider,{value:h},e.children)))},$e=Se,we=e=>{const{componentCls:s,paddingXS:r}=e;return{[s]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:r,[`${s}-input-wrapper`]:{position:"relative",[`${s}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${s}-mask-input`]:{color:"transparent",caretColor:"var(--ant-color-text)"},[`${s}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${s}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${s}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${s}-sm ${s}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${s}-lg ${s}-input`]:{paddingInline:e.paddingXS}}}},_e=fe(["Input","OTP"],e=>{const s=pe(e,ce(e));return[we(s)]},ue);var je=globalThis&&globalThis.__rest||function(e,s){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)s.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const ke=n.forwardRef((e,s)=>{const{className:r,value:t,onChange:o,onActiveChange:d,index:g,mask:u}=e,C=je(e,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:y}=n.useContext(U),O=y("otp"),b=typeof u=="string"?u:t,h=n.useRef(null);n.useImperativeHandle(s,()=>h.current);const j=v=>{o(g,v.target.value)},x=()=>{re(()=>{var v;const f=(v=h.current)===null||v===void 0?void 0:v.input;document.activeElement===f&&f&&f.select()})},A=v=>{const{key:f,ctrlKey:I,metaKey:R}=v;f==="ArrowLeft"?d(g-1):f==="ArrowRight"?d(g+1):f==="z"&&(I||R)&&v.preventDefault(),x()},k=v=>{v.key==="Backspace"&&!t&&d(g-1),x()};return n.createElement("span",{className:`${O}-input-wrapper`,role:"presentation"},u&&t!==""&&t!==void 0&&n.createElement("span",{className:`${O}-mask-icon`,"aria-hidden":"true"},b),n.createElement(W,Object.assign({"aria-label":`OTP Input ${g+1}`,type:u===!0?"password":"text"},C,{ref:h,value:t,onInput:j,onFocus:x,onKeyDown:A,onKeyUp:k,onMouseDown:x,onMouseUp:x,className:G(r,{[`${O}-mask-input`]:u})})))}),Te=ke;var ze=globalThis&&globalThis.__rest||function(e,s){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)s.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};function L(e){return(e||"").split("")}const Re=e=>{const{index:s,prefixCls:r,separator:t}=e,o=typeof t=="function"?t(s):t;return o?n.createElement("span",{className:`${r}-separator`},o):null},Ae=n.forwardRef((e,s)=>{const{prefixCls:r,length:t=6,size:o,defaultValue:d,value:g,onChange:u,formatter:C,separator:y,variant:O,disabled:b,status:h,autoFocus:j,mask:x,type:A,onInput:k,inputMode:v}=e,f=ze(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:I,direction:R}=n.useContext(U),$=I("otp",r),w=ge(f,{aria:!0,data:!0,attr:!0}),[N,V,M]=_e($),P=ne(a=>o??a),_=n.useContext(q),T=Ce(_.status,h),D=n.useMemo(()=>Object.assign(Object.assign({},_),{status:T,hasFeedback:!1,feedbackIcon:null}),[_,T]),S=n.useRef(null),E=n.useRef({});n.useImperativeHandle(s,()=>({focus:()=>{var a;(a=E.current[0])===null||a===void 0||a.focus()},blur:()=>{var a;for(let i=0;i<t;i+=1)(a=E.current[i])===null||a===void 0||a.blur()},nativeElement:S.current}));const K=a=>C?C(a):a,[X,H]=n.useState(()=>L(K(d||"")));n.useEffect(()=>{g!==void 0&&H(L(g))},[g]);const J=Z(a=>{H(a),k&&k(a),u&&a.length===t&&a.every(i=>i)&&a.some((i,c)=>X[c]!==i)&&u(a.join(""))}),Q=Z((a,i)=>{let c=me(X);for(let m=0;m<a;m+=1)c[m]||(c[m]="");i.length<=1?c[a]=i:c=c.slice(0,a).concat(L(i)),c=c.slice(0,t);for(let m=c.length-1;m>=0&&!c[m];m-=1)c.pop();const F=K(c.map(m=>m||" ").join(""));return c=L(F).map((m,Y)=>m===" "&&!c[Y]?c[Y]:m),c}),l=(a,i)=>{var c;const F=Q(a,i),m=Math.min(a+i.length,t-1);m!==a&&F[a]!==void 0&&((c=E.current[m])===null||c===void 0||c.focus()),J(F)},p=a=>{var i;(i=E.current[a])===null||i===void 0||i.focus()},z={variant:O,disabled:b,status:T,mask:x,type:A,inputMode:v};return N(n.createElement("div",Object.assign({},w,{ref:S,className:G($,{[`${$}-sm`]:P==="small",[`${$}-lg`]:P==="large",[`${$}-rtl`]:R==="rtl"},M,V),role:"group"}),n.createElement(q.Provider,{value:D},Array.from({length:t}).map((a,i)=>{const c=`otp-${i}`,F=X[i]||"";return n.createElement(n.Fragment,{key:c},n.createElement(Te,Object.assign({ref:m=>{E.current[i]=m},index:i,size:P,htmlSize:1,className:`${$}-input`,onChange:l,value:F,onActiveChange:p,autoFocus:i===0&&j},z)),i<t-1&&n.createElement(Re,{separator:y,index:i,prefixCls:$}))}))))}),Ne=Ae;var Me=function(s,r){return n.createElement(se,oe({},s,{ref:r,icon:Oe}))},De=n.forwardRef(Me);const Fe=De;var Be=globalThis&&globalThis.__rest||function(e,s){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)s.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const Ve=e=>e?n.createElement(Ie,null):n.createElement(Fe,null),Ke={click:"onClick",hover:"onMouseOver"},Xe=n.forwardRef((e,s)=>{const{disabled:r,action:t="click",visibilityToggle:o=!0,iconRender:d=Ve}=e,g=n.useContext(ae),u=r??g,C=typeof o=="object"&&o.visible!==void 0,[y,O]=n.useState(()=>C?o.visible:!1),b=n.useRef(null);n.useEffect(()=>{C&&O(o.visible)},[C,o]);const h=de(b),j=()=>{var P;if(u)return;y&&h();const _=!y;O(_),typeof o=="object"&&((P=o.onVisibleChange)===null||P===void 0||P.call(o,_))},x=P=>{const _=Ke[t]||"",T=d(y),D={[_]:j,className:`${P}-icon`,key:"passwordIcon",onMouseDown:S=>{S.preventDefault()},onMouseUp:S=>{S.preventDefault()}};return n.cloneElement(n.isValidElement(T)?T:n.createElement("span",null,T),D)},{className:A,prefixCls:k,inputPrefixCls:v,size:f}=e,I=Be(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:R}=n.useContext(U),$=R("input",v),w=R("input-password",k),N=o&&x(w),V=G(w,A,{[`${w}-${f}`]:!!f}),M=Object.assign(Object.assign({},ie(I,["suffix","iconRender","visibilityToggle"])),{type:y?"text":"password",className:V,prefixCls:$,suffix:N});return f&&(M.size=f),n.createElement(W,Object.assign({ref:te(s,b)},M))}),Ge=Xe;var Ue=globalThis&&globalThis.__rest||function(e,s){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)s.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const He=n.forwardRef((e,s)=>{const{prefixCls:r,inputPrefixCls:t,className:o,size:d,suffix:g,enterButton:u=!1,addonAfter:C,loading:y,disabled:O,onSearch:b,onChange:h,onCompositionStart:j,onCompositionEnd:x}=e,A=Ue(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:k,direction:v}=n.useContext(U),f=n.useRef(!1),I=k("input-search",r),R=k("input",t),{compactSize:$}=xe(I,v),w=ne(l=>{var p;return(p=d??$)!==null&&p!==void 0?p:l}),N=n.useRef(null),V=l=>{l!=null&&l.target&&l.type==="click"&&b&&b(l.target.value,l,{source:"clear"}),h==null||h(l)},M=l=>{var p;document.activeElement===((p=N.current)===null||p===void 0?void 0:p.input)&&l.preventDefault()},P=l=>{var p,z;b&&b((z=(p=N.current)===null||p===void 0?void 0:p.input)===null||z===void 0?void 0:z.value,l,{source:"input"})},_=l=>{f.current||y||P(l)},T=typeof u=="boolean"?n.createElement(be,null):null,D=`${I}-button`;let S;const E=u||{},K=E.type&&E.type.__ANT_BUTTON===!0;K||E.type==="button"?S=ee(E,Object.assign({onMouseDown:M,onClick:l=>{var p,z;(z=(p=E==null?void 0:E.props)===null||p===void 0?void 0:p.onClick)===null||z===void 0||z.call(p,l),P(l)},key:"enterButton"},K?{className:D,size:w}:{})):S=n.createElement(he,{className:D,type:u?"primary":void 0,size:w,disabled:O,key:"enterButton",onMouseDown:M,onClick:P,loading:y,icon:T},u),C&&(S=[S,ee(C,{key:"addonAfter"})]);const X=G(I,{[`${I}-rtl`]:v==="rtl",[`${I}-${w}`]:!!w,[`${I}-with-button`]:!!u},o),H=Object.assign(Object.assign({},A),{className:X,prefixCls:R,type:"search"}),J=l=>{f.current=!0,j==null||j(l)},Q=l=>{f.current=!1,x==null||x(l)};return n.createElement(W,Object.assign({ref:te(N,s),onPressEnter:_},H,{size:w,onCompositionStart:J,onCompositionEnd:Q,addonAfter:S,suffix:g,onChange:V,disabled:O}))}),Le=He,B=W;B.Group=$e;B.Search=Le;B.TextArea=ve;B.Password=Ge;B.OTP=Ne;const ut=B;export{ut as A};
