import{r as e}from"./index-76fb7be0.js";import{u as E}from"./context-b387624d.js";import{C as w}from"./index-356ca88b.js";import{C as z}from"./genStyleUtils-28a6e765.js";function R(o){return s=>e.createElement(w,{theme:{token:{motion:!1,zIndexPopupBase:0}}},e.createElement(o,Object.assign({},s)))}const S=(o,s,c,m,l)=>R(i=>{const{prefixCls:v,style:P}=i,a=e.useRef(null),[b,h]=e.useState(0),[C,O]=e.useState(0),[u,j]=E(!1,{value:i.open}),{getPrefixCls:x}=e.useContext(z),f=x(m||"select",v);e.useEffect(()=>{if(j(!0),typeof ResizeObserver<"u"){const p=new ResizeObserver(t=>{const r=t[0].target;h(r.offsetHeight+8),O(r.offsetWidth)}),d=setInterval(()=>{var t;const r=l?`.${l(f)}`:`.${f}-dropdown`,g=(t=a.current)===null||t===void 0?void 0:t.querySelector(r);g&&(clearInterval(d),p.observe(g))},10);return()=>{clearInterval(d),p.disconnect()}}},[]);let n=Object.assign(Object.assign({},i),{style:Object.assign(Object.assign({},P),{margin:0}),open:u,visible:u,getPopupContainer:()=>a.current});c&&(n=c(n)),s&&Object.assign(n,{[s]:{overflow:{adjustX:!1,adjustY:!1}}});const y={paddingBottom:b,position:"relative",minWidth:C};return e.createElement("div",{ref:a,style:y},e.createElement(o,Object.assign({},n)))}),k=S;export{k as g,R as w};
